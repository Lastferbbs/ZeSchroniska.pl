{% extends 'shelters/base.html' %}
{% load crispy_forms_tags %}


{% block content %}
<section class="py-5 container">
    <form method="get">
        <div class="row ">
            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-6">
                {{filters.form.breed |as_crispy_field}}
                {{filters.form.sex|as_crispy_field }}
            </div>
            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-6">
                {{filters.form.size|as_crispy_field }}

            </div>
            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-6">
                {{filters.form.age }}
            </div>
            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-6">
                {{filters.form.sterilized|as_crispy_field}}
            </div>

            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-6">
                {{filters.form.city|as_crispy_field:"bootstrap5" }}
            </div>
            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-6">
                {{filters.form.distance|as_crispy_field}}
            </div>


            <button class="btn btn-sm btn-primary " type="submit">Submit</button>
        </div>


    </form>
    <!-- <div class="col-lg-3 col-md-3 col-sm-1">
        <h6>Wielkość</h6>
        <form method="get">
            {{ filters.form.size_wykluczenie }}

        </form>
    </div> -->
    <!-- <div class="col-lg-3 col-md-3 col-sm-1">
        <h6>Wielkość</h6>
        <form method="get">
            {{ filters.form.breed }}

        </form>
    </div> -->

</section>
<div class="form-check form-check-inline">
    <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
    <label class="form-check-label" for="inlineCheckbox2">2</label>
</div>
<div class="container">
    <div class="row justify-content-center ">

        {% for dog in dogs_json %}
        <div class="col-10 col-md-5 col-lg-3 pb-4 rounded-0 px-2">
            <div class="card text-bg-dark">
                <img src={{ dog.first_picture }} href="https://www.w3schools.com" class="card-img" alt="...">

                <a href=http://127.0.0.1:8000/dogs/{{dog.pk}}>
                    <div class=" card-img-overlay">

                        <h3 class=" card-title align-self-end text-white strokeme">{{ dog.name }} - {{dog.sex}}</h3>

                        <p class="card-text text-white align-self-end strokeme fs-4">{{dog.size}} /
                            {{dog.age}}</p>

                    </div>
                </a>
                <p class="card-text text-white bg-dark bg-gradient">Data publikacji: {{dog.publication_date}}</p>
            </div>
        </div>
        {% endfor %}
        <!-- onclick="location.href='https://www.w3schools.com';" -->


    </div>
</div>

<!--Pagination-->
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center pt-3">
        {% if dogs_json.has_previous %}
        <li class="page-item">
            <a class="page-link"
                href="?page={{ dogs_json.previous_page_number }}{{ current_filters}}{{ excluded_cities}}">Poprzednia</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1" aria-disabled="True">Poprzednia</a>
        </li>
        {% endif %}

        {% if dogs_json.number|add:'-4' > 1 %}
        <li class="page-item"><a class="page-link"
                href="?page={{ dogs_json.number|add:'-5' }}{{ current_filters}}{{ excluded_cities}}">&hellip;</a>
        </li>
        {% endif %}

        {% for i in dogs_json.paginator.page_range %}
        {% if dogs_json.number == i %}
        <li class="page-item active" aria-current="page">
            <span class="page-link">
                {{ i }}
                <span class="sr-only"></span>
            </span>
        </li>
        {% elif i > dogs_json.number|add:'-5' and i < dogs_json.number|add:'5' %} <li class="page-item"><a
                class="page-link" href="?page={{ i }}{{ current_filters}}{{ excluded_cities}}">{{ i }}</a></li>
            {% endif %}
            {% endfor %}

            {% if dogs_json.paginator.num_pages > dogs_json.number|add:'4' %}
            <li class="page-item"><a class="page-link"
                    href="?page={{ dogs_json.number|add:'5' }}{{ current_filters}}{{ excluded_cities}}">&hellip;</a>
            </li>
            {% endif %}

            {% if dogs_json.has_next %}
            <li class="page-item">
                <a class="page-link"
                    href="?page={{ dogs_json.next_page_number }}{{ current_filters}}{{ excluded_cities}}">Następna</a>
            </li>
            {% else %}
            <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="True">Następna</a>
            </li>
            {% endif %}
    </ul>
</nav>
<!--end of Pagination-->


{% endblock %}
<!-- https://otozschroniskozg.pl/wp-content/uploads/2021/01/DSC00383-scaled.jpg -->